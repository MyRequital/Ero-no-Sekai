import random
from aiogram import Router, types, F
from aiogram.filters import Command, or_f
from aiogram.types import ChatMemberAdministrator, ChatMemberOwner, InlineKeyboardMarkup, InlineKeyboardButton, \
    WebAppInfo

from tools.common_utils import delete_message_safe, async_translate
import asyncio
from data import quotes
from data.shikimori_genres import GENRES
from _configs.log_config import logger
from tools.common_utils import require_access
from _configs.config import get_config
from urllib.parse import urlencode


router = Router()

cfg = get_config()

LIMIT_WARNINGS = cfg.bot_config.limit_warnings
TIMER_REMOVAL = cfg.bot_config.timer_removal
ACTUAL_STAFF_NICK_LIST = cfg.bot_config.actual_staff_nick_list
BASE_URL_APP_COMMANDS = "https://ero-no-sekai.up.railway.app/tg_webapp/"

async def is_admin(chat_id: int, user_id: int, bot) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º"""
    member = await bot.get_chat_member(chat_id, user_id)
    return isinstance(member, (ChatMemberAdministrator, ChatMemberOwner))


@router.message(Command('start'))
async def join_confirmation(message: types.Message, users_data):
    user_id = message.from_user.id
    user_info = await users_data.get_user_base_info(user_id)

    if user_info:
        join_confirm_text = (
            f"üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤</b> <i>Ero no Sekai: Yami no Yokub≈ç</i>!\n\n"
            "‚úÖ –¢—ã —É–∂–µ <b>–ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ</b> –≤ –≥—Ä—É–ø–ø—É.\n\n"
            "üìú <b>–í—Å—Ç—É–ø–∏–≤ –≤ –≥—Ä—É–ø–ø—É, —Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª, —á—Ç–æ —Ç–µ–±–µ –µ—Å—Ç—å 18 –ª–µ—Ç –∏ —Ç—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å <a href='https://t.me/EroNoSekai_YamiNoYokubo/1641'>–ø—Ä–∞–≤–∏–ª–∞–º–∏</a>:</b>\n"
            "‚Ä¢ /help ‚Äî –≥–∞–π–¥ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º\n"
            "‚Ä¢ /free_rules ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞\n"
            "‚Ä¢ /buy_rules ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞\n\n"
            f"üîê <b>–¢–≤–æ–π —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞:</b> <code>{user_info['access_lvl']}</code>\n"
            "‚ÑπÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å–µ–±–µ: /me\n\n"
            "üí¨ –ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –±—É–¥—å –≤–µ–∂–ª–∏–≤ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π!"
        )
    else:
        user_info = await users_data.add_new_user(
            user_id,
            message.from_user.username,
            message.from_user.first_name,
            message.from_user.last_name,
            access_lvl=2
        )

        join_confirm_text = (
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤</b> <i>Ero no Sekai: Yami no Yokub≈ç</i>!\n\n"
            "‚úÖ –¢—ã —É—Å–ø–µ—à–Ω–æ <b>–ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ</b> –≤ –≥—Ä—É–ø–ø—É.\n\n"
            "üìú <b>–í—Å—Ç—É–ø–∞—è –≤ –≥—Ä—É–ø–ø—É, —Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å, —á—Ç–æ —Ç–µ–±–µ –µ—Å—Ç—å 18 –ª–µ—Ç –∏ –æ–±—è–∑—É–µ—à—å—Å—è –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å <a href='https://t.me/EroNoSekai_YamiNoYokubo/1641'>–ø—Ä–∞–≤–∏–ª–∞–º–∏</a>:</b>\n"
            "‚Ä¢ /help ‚Äî –≥–∞–π–¥ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º\n"
            "‚Ä¢ /free_rules ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞\n"
            "‚Ä¢ /buy_rules ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞\n\n"
            f"üîê <b>–¢–≤–æ–π —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞:</b> <code>{user_info[4]}</code>\n"
            "‚ÑπÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å–µ–±–µ: /me\n\n"
            "üí¨ –ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –±—É–¥—å –≤–µ–∂–ª–∏–≤ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π!"
        )

    markup = markup_link_suffix(
        message,
        f"?{urlencode({'name': message.from_user.first_name})}"
    )

    answ = await message.answer(join_confirm_text, reply_markup=markup)

    if answ:
        _ = asyncio.create_task(delete_message_safe(answ, TIMER_REMOVAL))


@router.message(or_f(Command('help'), Command('h')))
async def send_help(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    help_text = (
        f"<b>üåø {message.from_user.first_name or message.from_user.username}, –≤–æ—Ç —á—Ç–æ —è —É–º–µ—é:</b>\n\n"

        f"<b>üå≥ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</b>\n"
        f"‚îú‚îÄ> /start\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É</i>\n"
        f"‚îú‚îÄ> /anime_quires - /aq\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–í—Å–µ —Ç–∏–ø—ã –∞–Ω–∏–º–µ-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏</i>\n"
        f"‚îú‚îÄ> /text_quires - /tq\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏</i>\n"
        f"‚îú‚îÄ> /quote - /q\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏</i>\n"
        f"‚îî‚îÄ> /help\n"
        f"   ‚îî‚îÄ> <i>–≠—Ç–æ –º–µ–Ω—é –ø–æ–º–æ—â–∏</i>\n\n"

        f"<b>üíé –ü—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø</b>\n"
        f"‚îú‚îÄ> /price_list - /pl\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–¢–∞—Ä–∏—Ñ—ã, –ø–∞–∫–µ—Ç—ã –∏ —É—Å–ª–æ–≤–∏—è</i>\n"
        f"‚îî‚îÄ> /buy_rules - /br\n"
        f"   ‚îî‚îÄ> <i>–ü—Ä–∞–≤–∏–ª–∞ VIP-–≥—Ä—É–ø–ø—ã</i>\n\n"
        
        f"<b>üë§ –ê–∫–∫–∞—É–Ω—Ç</b>\n"
        f"‚îú‚îÄ> /profile_menu | /pm\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º</i>\n"
        f"‚îú‚îÄ> /me\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ</i>\n"
        f"‚îî‚îÄ> /whois (@username)\n"
        f"   ‚îî‚îÄ> <i>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ @username</i>\n\n"

        f"<b>üìú –î–æ–∫—É–º–µ–Ω—Ç—ã</b>\n"
        f"‚îú‚îÄ> /free_rules - /fr\n"
        f"‚îÇ  ‚îî‚îÄ> <i>–ü—Ä–∞–≤–∏–ª–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —á–∞—Ç–∞</i>\n"
        f"‚îî‚îÄ> /policy\n"
        f"   ‚îî‚îÄ> <i>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</i>\n\n"

        f"<i>ü¶ä –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–æ–º–∞–Ω–¥—É</i>"
    )

    markup = markup_link_suffix(message, "help")


    answer = await message.answer(help_text, reply_markup=markup)
    if answer:
        _ = asyncio.create_task(delete_message_safe(answer, TIMER_REMOVAL))


@router.message(or_f(Command('text_quires'), Command('tq')))  # —Å —É–¥–∞–ª–µ–Ω–∏–µ–º
async def send_text_help(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    text_help = (
        f"<b>üìö –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚ú®</b>\n"
        f"–ï—Å–ª–∏ —Ç—ã –∑–¥–µ—Å—å, –∑–Ω–∞—á–∏—Ç —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ!\n\n"

        f"<b>üå≥ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
        f"‚îú‚îÄ> <b>–ü–æ–≥–æ–¥–∞</b>\n"
        f"‚îÇ  ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å –ø–æ–≥–æ–¥–∞ {{–≥–æ—Ä–æ–¥}}</code>\n"
        f"‚îÇ      ‚îî‚îÄ> <i>–ü—Ä–∏–º–µ—Ä: –ò–≥–æ—Ä—å –ø–æ–≥–æ–¥–∞ –ú–æ—Å–∫–≤–∞</i>\n\n"

        f"‚îú‚îÄ> <b>–ò–≥—Ä—ã</b>\n"
        f"‚îÇ  ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å –ø–æ–∏–≥—Ä–∞–µ–º</code>\n"
        f"‚îÇ      ‚îî‚îÄ> <i>–í—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –∏–≥—Ä</i>\n\n"

        f"‚îú‚îÄ> <b>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</b>\n"
        f"‚îÇ  ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å –∫—Ç–æ —è</code>\n"
        f"‚îÇ      ‚îî‚îÄ> <i>–í–∞—à–µ –º–µ—Å—Ç–æ –≤ –∞–Ω–∏–º–µ—à–Ω–æ–π –ø–∏—â–µ–≤–æ–π —Ü–µ–ø–∏</i>\n\n"

        f"‚îú‚îÄ> <b>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è</b>\n"
        f"‚îÇ  ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å –∫–∞–∫–æ–≤–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ç–æ–≥–æ —á—Ç–æ {{–∑–∞–ø—Ä–æ—Å}}</code>\n"
        f"‚îÇ      ‚îî‚îÄ> <i>–í—ã—á–∏—Å–ª—è–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è</i>\n\n"

        f"‚îú‚îÄ> <b>–ü—Ä–æ—â–µ–Ω–∏–µ</b>\n"
        f"‚îÇ  ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å {{–∏–∑–≤–∏–Ω–µ–Ω–∏–µ}}</code>\n"
        f"‚îÇ      ‚îî‚îÄ> <i>–ö–∞–∫ –≥–æ–≤–æ—Ä–∏–ª–∏ –í–µ–ª–∏–∫–∏–µ –ª—é–¥–∏, '–ü–ø–ø–æ–Ω—è—Ç—å –∏ –ø—Ä—Ä—Ä—Ä–æ—Å—Ç–∏—Ç—å'</i>\n\n"

        f"‚îî‚îÄ> <b>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</b>\n"
        f"    ‚îî‚îÄ> <code>–ò–≥–æ—Ä—å {{–≤–æ–ø—Ä–æ—Å}} ?</code>\n"
        f"        ‚îî‚îÄ> <i>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏–ª–∏ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å</i>"
    )

    markup = markup_link_suffix(message, "text_quires")

    answer = await message.answer(text_help, reply_markup=markup)
    if answer:
        _ = asyncio.create_task(delete_message_safe(answer, TIMER_REMOVAL))


@router.message(or_f(Command('anime_quires'), Command('aq')))
async def send_anime_quires(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    text_help = (
        "üéå <b>–ê–Ω–∏–º–µ-–∑–∞–ø—Ä–æ—Å—ã</b> üéå\n\n"

        "üìñ <b>Shikimori</b> (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å):\n"
        "‚îú‚îÄ /ssra ‚Äî <i>–°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ</i> üé≤\n"
        "‚îú‚îÄ <code>/ssa {title_name}</code> ‚Äî <i>–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</i> üîç\n"
        "‚îÇ   ‚îî‚îÄ <i>–ü–∞—Ä–∞–º–µ—Ç—Ä <b>title_name</b> ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: <b>–¢—É –ª–∞–≤ —Ä—É</b>, <b>–ï–≤–∞–Ω–≥–µ–ª–∏–æ–Ω</b>).</i>\n"
        "‚îú‚îÄ <code>/ssag {genre} {rating}</code> ‚Äî <i>–ü–æ–¥–±–æ—Ä–∫–∞ –∞–Ω–∏–º–µ –ø–æ –∂–∞–Ω—Ä—É –∏ —Ä–µ–π—Ç–∏–Ω–≥—É</i> üîç\n"
        "‚îÇ   ‚îú‚îÄ <i>–ü–∞—Ä–∞–º–µ—Ç—Ä <b>genre</b> ‚Äî –∂–∞–Ω—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: <b>—ç—Ç—Ç–∏</b>, <b>—Ä–æ–º–∞–Ω—Ç–∏–∫–∞</b>).</i>\n"
        "‚îÇ   ‚îî‚îÄ <i>–ü–∞—Ä–∞–º–µ—Ç—Ä <b>rating</b> ‚Äî —Ä–µ–π—Ç–∏–Ω–≥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7, –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å).</i>\n"
        "‚îî‚îÄ <code>/ssc {character_name}</code> ‚Äî <i>–ü–æ–¥–±–æ—Ä–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ –∏–º–µ–Ω–∏</i> üîç\n"
        "    ‚îî‚îÄ <i>–ü–∞—Ä–∞–º–µ—Ç—Ä <b>character_name</b> ‚Äî –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: <b>–°—ç–Ω–∫–æ</b>, <b>–ù–∞–Ω–∞ –î–µ–≤–∏–ª—é–∫</b>).</i>\n\n"

        "üåê <b>AniList</b> (–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –≤–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏):\n"
        "‚îú‚îÄ /asra ‚Äî <i>–°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ</i> üé≤\n"
        "‚îî‚îÄ <code>/asa {title_name}</code> ‚Äî <i>–ü–æ–∏—Å–∫ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</i> üîç\n"
        "   ‚îî‚îÄ <i>–ü–∞—Ä–∞–º–µ—Ç—Ä <b>title_name</b> ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: <b>–°—ç–Ω–∫–æ</b>, <b>–¢—É –ª–∞–≤ —Ä—É</b>).</i>\n\n"

        "‚ö†Ô∏è <i>–°–æ–æ–±—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—Ç—Å—è —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥.</i>"
    )


    markup = markup_link_suffix(message, "anime_quires")


    answer = await message.answer(text_help, reply_markup=markup)

    if answer:
        _ = asyncio.create_task(delete_message_safe(answer, TIMER_REMOVAL))


@router.message(or_f(Command('free_rules'), Command('fr')))
async def send_free_rules(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    text_free_rules = (
        '<b>üìå –ü—Ä–∞–≤–∏–ª–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≥—Ä—É–ø–ø—ã</b>\n\n'
        '<b>–í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –∏–∑–æ–±—Ä–∞–∂—ë–Ω–Ω—ã–µ –Ω–∞ –∞—Ä—Ç–∞—Ö, —è–≤–ª—è—é—Ç—Å—è –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–º–∏ –∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–º–∏ (18+).</b>\n'
        '–õ—é–±—ã–µ —Å—Ö–æ–¥—Å—Ç–≤–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ª—é–¥—å–º–∏, —Å–æ–±—ã—Ç–∏—è–º–∏ –∏–ª–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ ‚Äî —Å–ª—É—á–∞–π–Ω—ã –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏.\n\n'
        '<b>–ë–µ—Å–ø–æ—á–≤–µ–Ω–Ω—ã–µ –æ–±–≤–∏–Ω–µ–Ω–∏—è –≤ CP</b> –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –≥—Ä—É–±–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏ –≤–µ–¥—É—Ç –∫ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º—É –±–∞–Ω—É –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.\n\n'
        '<b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</b>\n'
        '–ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –≤ –≥—Ä—É–ø–ø–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∏–º–∏ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–º.\n\n'
        '<b>üîπ 1. –£–≤–∞–∂–µ–Ω–∏–µ –∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º</b>\n'
        '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —É–≥—Ä–æ–∑—ã, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏ –∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —Ä–∞–∑–∂–∏–≥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–ø—Ä–µ—â–µ–Ω—ã.\n'
        'üî∏ 1-–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (0/3)\n'
        'üî∏ 3 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 3 –¥–Ω—è\n'
        'üî∏ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –≥—Ä—É–ø–ø—ã, –≤–æ–ø—Ä–æ—Å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è <a href="https://t.me/ZorngeistQual">–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π</a>\n\n'
        '<b>üîπ 2. –ó–∞–ø—Ä–µ—Ç –Ω–∞ —Å–ø–∞–º –∏ —Ä–µ–∫–ª–∞–º—É</b>\n'
        '–ù–µ–ª—å–∑—è —Ä–∞–∑–º–µ—â–∞—Ç—å —Ä–µ–∫–ª–∞–º—É, —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –∏–ª–∏ –Ω–∞–≤—è–∑—ã–≤–∞—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –ø—Ä–æ–¥—É–∫—Ç—ã/—É—Å–ª—É–≥–∏.\n\n'
        '<b>üîπ 3. –ö–æ–Ω—Ç–µ–Ω—Ç 18+</b>\n'
        '–î–æ–ø—É—Å—Ç–∏–º –≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö. –ü—Ä–æ—Å–∏–º —Å–æ–±–ª—é–¥–∞—Ç—å –º–µ—Ä—É –∏ —É–≤–∞–∂–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.\n\n'
        '<b>üîπ 4. –§–ª—É–¥ –∏ –∫–∞–ø—Å</b>\n'
        '–ò–∑–±–µ–≥–∞–π—Ç–µ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥, –∞ —Ç–∞–∫–∂–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏ –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∞–º–∏.\n\n'
        '<b>üîπ 5. –°–ø–æ—Ä—ã –∏ –∂–∞–ª–æ–±—ã</b>\n'
        '–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ü–µ–Ω–∞–º, –¥–æ—Å—Ç—É–ø—É –∏ –¥—Ä—É–≥–∏–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–º –º–æ–º–µ–Ω—Ç–∞–º —Ä–µ—à–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ <a href="https://t.me/ZorngeistQual">–ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</a>.\n\n'
        '<b>üîπ 6. –î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</b>\n'
        '–ó–∞–ø—Ä–µ—â–µ–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –ª–æ–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ. –ù–∞–º –≤–∞–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥–æ–≤–µ—Ä–∏–µ –∏ —á–µ—Å—Ç–Ω–æ—Å—Ç—å.\n\n'
        '<b>üîπ 7. –ó–∞–ø—Ä–µ—Ç –Ω–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ò–ò-–ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤</b>\n'
        '–ì—Ä—É–ø–ø–∞ –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤. –ó–¥–µ—Å—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å –ª—é–±—ã–µ –≤–Ω–µ—à–Ω–∏–µ –ò–ò-—Å–µ—Ä–≤–∏—Å—ã, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–ª–∞–≥–∏–Ω—ã –∏ –ø—Ä–æ—á–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ç–æ–≤.\n\n'
        '–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.\n'
        '–ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–æ–∫—É—Å –Ω–∞ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ, –∞ –Ω–µ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∫—É—Ö–Ω–µ.\n\n'
        '<b>‚ùå –ù–∞—Ä—É—à–µ–Ω–∏—è–º–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è:</b>\n'
        '‚Üí –£–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π, —Å–∞–π—Ç–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n'
        '‚Üí –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å–æ—Ñ—Ç–∞\n'
        '‚Üí –ü–æ–ø—ã—Ç–∫–∏ –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞—Ä—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞\n'
        '‚Üí –õ—é–±—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–±—â–µ–Ω–∏–µ–º –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ\n\n'
        'üî∏ 1-–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è\n'
        'üî∏ 2-–µ ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–π –º—É—Ç\n'
        'üî∏ 3-–µ ‚Äî –ø—Ä–æ—â–∞–µ–º—Å—è\n\n'
        '–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –Ω–µ —Ä–∞–∑–≥–ª–∞—à–∞—é—Ç—Å—è.\n\n'
        '<b>üîπ 8. –ü–æ–ø—Ä–æ—à–∞–π–Ω–∏—á–µ—Å—Ç–≤–æ –∏ –ø–ª–∞–≥–∏–∞—Ç</b>\n'
        '–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø—Ä–æ—Å—å–±—ã –æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∞—Ä—Ç–∞—Ö, –∞ —Ç–∞–∫–∂–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á—É–∂–∏—Ö —Ä–∞–±–æ—Ç –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è.\n\n'
        '<b>üîπ 9. –ü–æ–ª–Ω–æ–º–æ—á–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤</b>\n'
        '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è (<a href="https://t.me/ZorngeistQual">—Å–≤—è–∑–∞—Ç—å—Å—è</a>) –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ —É–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω.\n\n'
        '‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∞–≤–∏–ª –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç—ë–ø–ª—É—é, —Ç–≤–æ—Ä—á–µ—Å–∫—É—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.\n'
        '–í—Å—Ç—É–ø–∞—è –≤ –≥—Ä—É–ø–ø—É –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –µ—ë –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –≤–∞–º –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å 18 –ª–µ—Ç.\n'
        '–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã —Å –Ω–∞–º–∏! üöÄ'
    )

    markup = markup_link_suffix(message, "free_rules")


    answer = await message.answer(text_free_rules, reply_markup=markup)

    if message:
        _ = asyncio.create_task(delete_message_safe(message, TIMER_REMOVAL))


@router.message(or_f(Command('buy_rules'), Command('br')))
async def send_buy_rules(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    text_buy_rules = (
    "–í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –∏–∑–æ–±—Ä–∞–∂—ë–Ω–Ω—ã–µ –Ω–∞ –∞—Ä—Ç–∞—Ö, —è–≤–ª—è—é—Ç—Å—è –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–º–∏ –∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–º–∏ (18+).\n"
    "–õ—é–±—ã–µ —Å—Ö–æ–¥—Å—Ç–≤–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ª—é–¥—å–º–∏, —Å–æ–±—ã—Ç–∏—è–º–∏ –∏–ª–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ ‚Äî —Å–ª—É—á–∞–π–Ω—ã –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏.\n\n"
    "–ë–µ—Å–ø–æ—á–≤–µ–Ω–Ω—ã–µ –æ–±–≤–∏–Ω–µ–Ω–∏—è –≤ CP –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –≥—Ä—É–±–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∏ –≤–µ–¥—É—Ç –∫ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º—É –±–∞–Ω—É –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.\n\n"
    "‚Äî ‚Äî ‚Äî\n\n"
    "<b>1. –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–∞—Ç–æ–º</b>\n\n"
    "üîπ <b>1.1 –£–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ.</b>\n"
    "–ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —É–≥—Ä–æ–∑—ã, —Ä–∞–∑–∂–∏–≥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏.\n"
    "(0/3 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π ‚Üí –±–∞–Ω –Ω–∞ —Ç—Ä–æ–µ —Å—É—Ç–æ–∫)\n\n"
    "üîπ <b>1.2 –ó–∞–ø—Ä–µ—â–µ–Ω—ã —Å–ø–∞–º, —Ä–µ–∫–ª–∞–º–∞ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã.</b>\n\n"
    "üîπ <b>1.3 –ö–æ–Ω—Ç–µ–Ω—Ç 18+ —Ä–∞–∑—Ä–µ—à—ë–Ω, –Ω–æ –≤ —É–º–µ—Ä–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.</b>\n\n"
    "üîπ <b>1.4 –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Ñ–ª—É–¥–∏—Ç—å, –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –∫–∞–ø—Å–æ–º –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∞–º–∏.</b>\n\n"
    "üîπ <b>1.5 –í—Å–µ —Å–ø–æ—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (—Ü–µ–Ω—ã, –¥–æ—Å—Ç—É–ø, –∂–∞–ª–æ–±—ã) ‚Äî —Ç–æ–ª—å–∫–æ –≤ –õ–° –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</b> "
    "<a href=\"https://t.me/ZorngeistQual\">https://t.me/ZorngeistQual</a>\n\n"
    "üîπ <b>1.6 –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å —Ñ–µ–π–∫–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ –∏–ª–∏ –≤–≤–æ–¥–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.</b>\n\n"
    "üîπ <b>1.7 –ü–æ–ø—Ä–æ—à–∞–π–Ω–∏—á–µ—Å—Ç–≤–æ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á—É–∂–∏—Ö —Ä–∞–±–æ—Ç –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã.</b>\n\n"
    "üîπ <b>1.8 –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ —É–¥–∞–ª–∏—Ç—å –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω.</b>\n\n"
    "‚Äî ‚Äî ‚Äî\n\n"
    "<b>2. –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç–Ω–æ–π –≥—Ä—É–ø–ø–æ–π</b>\n\n"
    "üö® –í–∞–∂–Ω–æ! –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–µ–≤–∏–¥–∏–º—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –º–µ—Ç–∫–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —É—Ç–µ—á–∫–∏.\n"
    "–ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è.\n\n"
    "üî∏ <b>2.1 –ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—É–±–ª–∏—á–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞—á–∞ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∞ –∞—Ä—Ç–æ–≤ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.</b>\n\n"
    "üî∏ <b>2.2 –ö–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∞—Ä—Ç—ã –Ω–∞ —Å–∞–π—Ç—ã, —Å–æ—Ü—Å–µ—Ç–∏ –∏ —Ñ–æ—Ä—É–º—ã.</b>\n\n"
    "üî∏ <b>2.3 –ó–∞–ø—Ä–µ—â–µ–Ω–æ —É–¥–∞–ª—è—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.</b>\n\n"
    "üî∏ <b>2.4 –õ—é–±–∞—è –ø–æ–ø—ã—Ç–∫–∞ –æ–±—Ö–æ–¥–∞ –ø–ª–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (—Ä–∞–∑–¥–∞—á–∞, —à–∞—Ä–∏–Ω–≥, —Å–ª–∏–≤) = –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –±–∞–Ω –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.</b>\n\n"
    "üî∏ <b>2.5 –£—Ç–µ—á–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è. –ù–∞—Ä—É—à–∏—Ç–µ–ª–∏ —Ç–µ—Ä—è—é—Ç –¥–æ—Å—Ç—É–ø –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞.</b>\n\n"
    "üî∏ <b>2.6 –î–æ–ø—É—Å—Ç–∏–º–æ —á–∞—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ä—Ç–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –≤ –∑–∞–∫—Ä—ã—Ç—ã—Ö –≥—Ä—É–ø–ø–∞—Ö, –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –æ–±—ä—ë–º–∞—Ö –∏ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –≥—Ä—É–ø–ø—É.</b>\n\n"
    "üî∏ <b>2.7 –ï—Å–ª–∏ –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Äî —Å–æ–æ–±—â–∏—Ç–µ <a href=\"https://t.me/ZorngeistQual\">–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</a>:</b> "
    "\n\n"
    "‚Äî ‚Äî ‚Äî\n\n"
    "‚úÖ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∞–≤–∏–ª –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç—ë–ø–ª—É—é, —Ç–≤–æ—Ä—á–µ—Å–∫—É—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.\n"
    "–í—Å—Ç—É–ø–∞—è –≤ –≥—Ä—É–ø–ø—É –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –µ—ë –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –≤–∞–º –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å 18 –ª–µ—Ç.\n"
    "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã —Å –Ω–∞–º–∏! üöÄ"
)

    markup = markup_link_suffix(message, "buy_rules")

    answer = await message.answer(text_buy_rules, reply_markup=markup)

    if message:
        _ = asyncio.create_task(delete_message_safe(message, TIMER_REMOVAL))


@router.message(or_f(Command('pl'), Command('price_list')))
async def send_price_list(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    price_list = (
        "üé¥ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Ero no Sekai: Yami no Yokub≈ç</b>\n"
        "–î–æ—Å—Ç—É–ø –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º –∞—Ä—Ç–∞–º –Ω–∞ –≤–∞—à–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö\n\n"

        "üìú <b>–í–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–∞:</b>\n"
        "<b>Free Pass</b>\n"
        "‚Äî –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞—Ä—Ç–∞–º —Å –≤–∞—Ç–µ—Ä–º–∞—Ä–∫–∞–º–∏\n\n"

        "<b>Buy Pass</b>\n"
        "‚Äî –ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –±–µ–∑ –≤–∞—Ç–µ—Ä–º–∞—Ä–æ–∫ + –∞—Ä—Ç—ã –≤ 4K\n\n"

        "üí∞ <b>–¢–∞—Ä–∏—Ñ—ã:</b>\n"
        "‚ë† –ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ ‚Äî 379 ‚ÇΩ/–º–µ—Å\n"
        "‚ë° –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π VIP ‚Äî 3 799 ‚ÇΩ (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ)\n\n"

        "üñº <b>–ü–∞–∫–µ—Ç—ã –∞—Ä—Ç–æ–≤:</b>\n\n"

        "<b>1. –ë–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä</b>\n"
        "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –∞—Ä—Ç–æ–≤ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≥–µ—Ä–æ—é:\n"
        "‚Äî 100 –∞—Ä—Ç–æ–≤ ¬∑ 249 ‚ÇΩ\n"
        "‚Äî 200 –∞—Ä—Ç–æ–≤ ¬∑ 479 ‚ÇΩ\n"
        "‚Äî 300 –∞—Ä—Ç–æ–≤ ¬∑ 799 ‚ÇΩ\n"
        "‚Äî 400 –∞—Ä—Ç–æ–≤ ¬∑ 1 199 ‚ÇΩ\n\n"

        "‚ñ∏ –í–∞—Ç–µ—Ä–º–∞—Ä–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è. –ê—Ä—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ–±—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ.\n\n"

        "<b>2. –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –≤—ã–∫—É–ø¬π</b>\n"
        "–¢–æ—Ç –∂–µ –±–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä, –Ω–æ:\n"
        "‚Äî 100 –∞—Ä—Ç–æ–≤ ¬∑ 749 ‚ÇΩ\n"
        "‚Äî 200 –∞—Ä—Ç–æ–≤ ¬∑ 1 349 ‚ÇΩ\n"
        "‚Äî 300 –∞—Ä—Ç–æ–≤ ¬∑ 1 949 ‚ÇΩ\n"
        "‚Äî 400 –∞—Ä—Ç–æ–≤ ¬∑ 2 399 ‚ÇΩ\n\n"

        "‚ñ∏ –ê—Ä—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞.\n\n"

        "<b>3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞¬≤</b>\n"
        "<b>–∞) –° –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏:</b>\n"
        "‚Äî 100 –∞—Ä—Ç–æ–≤ ¬∑ 1 099 ‚ÇΩ\n"
        "‚Äî 200 –∞—Ä—Ç–æ–≤ ¬∑ 1 899 ‚ÇΩ\n"
        "‚Äî 300 –∞—Ä—Ç–æ–≤ ¬∑ 2 599 ‚ÇΩ\n"
        "‚Äî 400 –∞—Ä—Ç–æ–≤ ¬∑ 3 199 ‚ÇΩ\n\n"

        "<b>–±) –° –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º¬≥:</b>\n"
        "‚Äî 100 –∞—Ä—Ç–æ–≤ ¬∑ 649 ‚ÇΩ\n"
        "‚Äî 200 –∞—Ä—Ç–æ–≤ ¬∑ 1 099 ‚ÇΩ\n"
        "‚Äî 300 –∞—Ä—Ç–æ–≤ ¬∑ 1 599 ‚ÇΩ\n"
        "‚Äî 400 –∞—Ä—Ç–æ–≤ ¬∑ 1 999 ‚ÇΩ\n\n"

        "‚ñ∏ <b>–£—Å–ª–æ–≤–∏—è –¥–ª—è –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:</b>\n"
        "- –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 30% ‚Üí –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å –≤–∞—Ç–µ—Ä–º–∞—Ä–∫–∞–º–∏\n"
        "- –ü—Ä–∏ –ø–æ–ª–Ω–æ–π –æ–ø–ª–∞—Ç–µ ‚Üí –∞—Ä—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤–∞–º\n"
        "- –ü—Ä–∏ –æ—Ç–∫–∞–∑–µ ‚Üí –∞—Ä—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –º–æ–∏—Ö –≥—Ä—É–ø–ø–∞—Ö (–∞–≤–∞–Ω—Å –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è)\n\n"

        "üìå <b>–°–Ω–æ—Å–∫–∏:</b>\n"
        "¬π –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –≤—ã–∫—É–ø ‚Äî –∞—Ä—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –í—ã ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü.\n"
        "¬≤ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞:\n"
        "        –∞) –≤–∞—à–∞ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å;\n"
        "        –±) –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞—Ä—Ç—ã –Ω–∞–±–æ—Ä–∞ –¥–ª—è –Ω–∞—Å—ã—â–µ–Ω–∏—è –≥—Ä—É–ø–ø.\n"
        "¬≥ –í –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –Ω–∞–±–æ—Ä–∞—Ö –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ä—Ç—ã –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∞–ª—å–±–æ–º–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–æ—Å—Å–æ–≤–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–∑ –≤—Å–µ–ª–µ–Ω–Ω—ã—Ö).\n\n"

        "üì≤ <b>–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å:</b>\n"
        '‚Üí –ù–∞–ø–∏—à–∏—Ç–µ <a href="https://t.me/EroNoSekaiBot">–±–æ—Ç—É</a>\n'
        '‚Üí –°–≤—è–∂–∏—Ç–µ—Å—å —Å <a href="https://t.me/ZorngeistQual">–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</a>'
    )

    markup = markup_link_suffix(message, "price_list")


    answer = await message.answer(price_list, reply_markup=markup, disable_web_page_preview=True)

    if message:
        _ = asyncio.create_task(delete_message_safe(message, TIMER_REMOVAL))

@router.message(Command('policy'))
async def send_policy_message(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    policy_text = (
        "üîê <b>Ero no Sekai: Yami no Yokubo - –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</b>\n\n"
        "<i>Shinigami –Ω–∞–±–ª—é–¥–∞–µ—Ç, –Ω–æ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞—à–∏ —Ç–∞–π–Ω—ã...</i>\n\n"

        "üìú <b>1. –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º—ã —Ö—Ä–∞–Ω–∏–º</b>\n"
        "‚Ä¢ –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –º–∏–Ω–∏–º—É–º: –≤–∞—à <code>user_id</code> –∏ <code>username</code>\n"
        "‚Ä¢ –ù–∏–∫–∞–∫–∏—Ö –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–ø–∏—Å–æ–∫ –∏–ª–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤\n"
        "‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ (–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ª–∏—á–Ω–æ—Å—Ç–∏)\n\n"

        "üõ°Ô∏è <b>2. –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ</b>\n"
        "‚Ä¢ –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –±–æ—Ç–∞\n"
        "‚Ä¢ –î–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π\n"
        "‚Ä¢ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë–º —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º\n\n"

        "‚ö∞Ô∏è <b>3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Shinigami</b>\n"
        "‚Ä¢ –ë–æ—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤–∞—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π\n"
        "‚Ä¢ –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\n"
        "‚Ä¢ –ú—ã –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ–º—Å—è –≤–∞—à–µ–π –Ω–∞—Å—Ç–æ—è—â–µ–π –ª–∏—á–Ω–æ—Å—Ç—å—é\n\n"

        "üåë <b>4. –í–∞—à–∏ –ø—Ä–∞–≤–∞</b>\n"
        "‚Ä¢ –ú–æ–∂–µ—Ç–µ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–æ—Ç–æ–º –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç\n"
        "‚Ä¢ –ó–∞–ø—Ä–æ—Å–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ @ZorngeistQual\n"
        "‚Ä¢ –ü–æ–ª–Ω–∞—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è\n\n"

        "<i>Shinigami –ª–∏—à—å –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ –º–∏—Ä–æ–º —Ç–µ–Ω–µ–π, –Ω–µ –Ω–∞—Ä—É—à–∞—è –µ–≥–æ –≥–∞—Ä–º–æ–Ω–∏–∏...</i>\n\n"
    )

    markup = markup_link_suffix(message, "policy")


    answer = await message.answer(policy_text, reply_markup=markup)

    if message:
        _ = asyncio.create_task(delete_message_safe(message, TIMER_REMOVAL))


@router.message(or_f(Command('quote'), Command('q')))
async def send_quote(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    message = await message.answer(random.choice(quotes.quotes))

    # if message:
    #     _ = asyncio.create_task(delete_message_safe(message, 60))

@router.message(or_f(Command("staff")))
async def send_staff_list(message: types.Message):
    await message.reply(f"–ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤: {str(ACTUAL_STAFF_NICK_LIST)}")

@router.message(or_f(Command('translate'), Command('t')))
async def send_translate(message: types.Message, command: F.CommandObject):

    if not command.args:
        return await message.reply('‚ùå –£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞')

    try:
        text_to_translate = message.text.split(" ", 1)[1].strip()
        logger.debug(f"–¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞: {text_to_translate}")

        translated = await async_translate(text_to_translate)

        if not translated:
            return await message.reply('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥')

        await message.reply(translated)

    except Exception as e:
        await message.reply(f'üö´ –û—à–∏–±–∫–∞: {str(e)}')


@router.message(or_f(Command('ginfo'), Command('ginfo')))
async def send_anime_quires(message: types.Message):
    if message:
        _ = asyncio.create_task(delete_message_safe(message, 60))

    text_info = (
        f'–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –≥—Ä—É–ø–ø–µ –∏ –±–æ—Ç–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –Ω–∞ <a href="{BASE_URL_APP_COMMANDS}">—Å–∞–π—Ç–µ</a>'
        f" –∏–ª–∏ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"

    )


    markup = markup_link_suffix(message, "")


    answer = await message.answer(text_info, reply_markup=markup)



@router.message(Command('genres'))
async def send_genres(message: types.Message, command: F.CommandObject):
    genre_keys = [key.capitalize() for key in GENRES.keys()]

    genre_str = ', '.join(genre_keys)

    await message.answer(genre_str)


@router.message(or_f(Command('28012003'), Command('28012003')))
@require_access(10)
async def add_me_test_db(message: types.Message, command: F.CommandObject, users_data, **kwargs):
    users_data.add_new_user(message.from_user.id,
                         message.from_user.username,
                         message.from_user.first_name,
                         message.from_user.last_name
                         )
    logger.debug("–£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —é–∑–µ—Ä–∞")


def markup_link_suffix(message, suffix: str):
    if message.chat.type in {"group", "supergroup"}:
        markup = InlineKeyboardMarkup(
            inline_keyboard=[
                [InlineKeyboardButton(text="üìñ –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ", url=BASE_URL_APP_COMMANDS + suffix)]
            ]
        )
        return markup
    else:
        markup = InlineKeyboardMarkup(
            inline_keyboard=[
                [InlineKeyboardButton(
                    text="üìñ –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ",
                    web_app=WebAppInfo(url=BASE_URL_APP_COMMANDS + suffix)
                )]
            ]
        )
        return markup

logger.info("[Commands] - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ")